(function(I,se){typeof exports=="object"&&typeof module<"u"?se(require("yargs"),require("util"),require("path"),require("fs"),require("assert"),require("url"),require("node:fs/promises"),require("node:path"),require("@vue/compiler-sfc")):typeof define=="function"&&define.amd?define(["yargs","util","path","fs","assert","url","node:fs/promises","node:path","@vue/compiler-sfc"],se):(I=typeof globalThis<"u"?globalThis:I||self,se(I.yargs,I.util,I.path,I.fs,I.assert,I.url,I["node:fs/promises"],I["node:path"],I.compilerSfc))})(this,function(I,se,B,oe,$t,sn,me,xe,on){"use strict";var bt=typeof document<"u"?document.currentScript:null;class ae extends Error{constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,ae)}}function yt(){return rn()?0:1}function rn(){return cn()&&!process.defaultApp}function cn(){return!!process.versions.electron}function an(e){return e.slice(yt()+1)}function ln(){return process.argv[yt()]}/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */function le(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let n="",s=!1;const o=e.match(/^-+/);for(let i=o?o[0].length:0;i<e.length;i++){let u=e.charAt(i);s&&(s=!1,u=u.toUpperCase()),i!==0&&(u==="-"||u==="_")?s=!0:u!=="-"&&u!=="_"&&(n+=u)}return n}}function Et(e,t){const n=e.toLowerCase();t=t||"-";let s="";for(let o=0;o<e.length;o++){const i=n.charAt(o),u=e.charAt(o);i!==u&&o>0?s+=`${t}${n.charAt(o)}`:s+=u}return s}function vt(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */function un(e){if(Array.isArray(e))return e.map(u=>typeof u!="string"?u+"":u);e=e.trim();let t=0,n=null,s=null,o=null;const i=[];for(let u=0;u<e.length;u++){if(n=s,s=e.charAt(u),s===" "&&!o){n!==" "&&t++;continue}s===o?o=null:(s==="'"||s==='"')&&!o&&(o=s),i[t]||(i[t]=""),i[t]+=s}return i}/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */var K;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(K||(K={}));/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */let ee;class fn{constructor(t){ee=t}parse(t,n){const s=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),o=un(t),i=typeof t=="string",u=hn(Object.assign(Object.create(null),s.alias)),h=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},s.configuration),g=Object.assign(Object.create(null),s.default),v=s.configObjects||[],A=s.envPrefix,_=h["populate--"],F=_?"--":"_",X=Object.create(null),Zt=Object.create(null),ie=s.__||ee.format,f={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},J=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,pt=new RegExp("^--"+h["negation-prefix"]+"(.+)");[].concat(s.array||[]).filter(Boolean).forEach(function(r){const a=typeof r=="object"?r.key:r,p=Object.keys(r).map(function(l){return{boolean:"bools",string:"strings",number:"numbers"}[l]}).filter(Boolean).pop();p&&(f[p][a]=!0),f.arrays[a]=!0,f.keys.push(a)}),[].concat(s.boolean||[]).filter(Boolean).forEach(function(r){f.bools[r]=!0,f.keys.push(r)}),[].concat(s.string||[]).filter(Boolean).forEach(function(r){f.strings[r]=!0,f.keys.push(r)}),[].concat(s.number||[]).filter(Boolean).forEach(function(r){f.numbers[r]=!0,f.keys.push(r)}),[].concat(s.count||[]).filter(Boolean).forEach(function(r){f.counts[r]=!0,f.keys.push(r)}),[].concat(s.normalize||[]).filter(Boolean).forEach(function(r){f.normalize[r]=!0,f.keys.push(r)}),typeof s.narg=="object"&&Object.entries(s.narg).forEach(([r,a])=>{typeof a=="number"&&(f.nargs[r]=a,f.keys.push(r))}),typeof s.coerce=="object"&&Object.entries(s.coerce).forEach(([r,a])=>{typeof a=="function"&&(f.coercions[r]=a,f.keys.push(r))}),typeof s.config<"u"&&(Array.isArray(s.config)||typeof s.config=="string"?[].concat(s.config).filter(Boolean).forEach(function(r){f.configs[r]=!0}):typeof s.config=="object"&&Object.entries(s.config).forEach(([r,a])=>{(typeof a=="boolean"||typeof a=="function")&&(f.configs[r]=a)})),Co(s.key,u,s.default,f.arrays),Object.keys(g).forEach(function(r){(f.aliases[r]||[]).forEach(function(a){g[a]=g[r]})});let Y=null;Fo();let ve=[];const T=Object.assign(Object.create(null),{_:[]}),Xt={};for(let r=0;r<o.length;r++){const a=o[r],p=a.replace(/^-{3,}/,"---");let l,c,$,m,y,P;if(a!=="--"&&/^-/.test(a)&&Se(a))dt(a);else if(p.match(/^---+(=|$)/)){dt(a);continue}else if(a.match(/^--.+=/)||!h["short-option-groups"]&&a.match(/^-.+=/))m=a.match(/^--?([^=]+)=([\s\S]*)$/),m!==null&&Array.isArray(m)&&m.length>=3&&(w(m[1],f.arrays)?r=Ae(r,m[1],o,m[2]):w(m[1],f.nargs)!==!1?r=we(r,m[1],o,m[2]):R(m[1],m[2],!0));else if(a.match(pt)&&h["boolean-negation"])m=a.match(pt),m!==null&&Array.isArray(m)&&m.length>=2&&(c=m[1],R(c,w(c,f.arrays)?[!1]:!1));else if(a.match(/^--.+/)||!h["short-option-groups"]&&a.match(/^-[^-]+/))m=a.match(/^--?(.+)/),m!==null&&Array.isArray(m)&&m.length>=2&&(c=m[1],w(c,f.arrays)?r=Ae(r,c,o):w(c,f.nargs)!==!1?r=we(r,c,o):(y=o[r+1],y!==void 0&&(!y.match(/^-/)||y.match(J))&&!w(c,f.bools)&&!w(c,f.counts)||/^(true|false)$/.test(y)?(R(c,y),r++):R(c,ce(c))));else if(a.match(/^-.\..+=/))m=a.match(/^-([^=]+)=([\s\S]*)$/),m!==null&&Array.isArray(m)&&m.length>=3&&R(m[1],m[2]);else if(a.match(/^-.\..+/)&&!a.match(J))y=o[r+1],m=a.match(/^-(.\..+)/),m!==null&&Array.isArray(m)&&m.length>=2&&(c=m[1],y!==void 0&&!y.match(/^-/)&&!w(c,f.bools)&&!w(c,f.counts)?(R(c,y),r++):R(c,ce(c)));else if(a.match(/^-[^-]+/)&&!a.match(J)){$=a.slice(1,-1).split(""),l=!1;for(let W=0;W<$.length;W++){if(y=a.slice(W+2),$[W+1]&&$[W+1]==="="){P=a.slice(W+3),c=$[W],w(c,f.arrays)?r=Ae(r,c,o,P):w(c,f.nargs)!==!1?r=we(r,c,o,P):R(c,P),l=!0;break}if(y==="-"){R($[W],y);continue}if(/[A-Za-z]/.test($[W])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(y)&&w(y,f.bools)===!1){R($[W],y),l=!0;break}if($[W+1]&&$[W+1].match(/\W/)){R($[W],y),l=!0;break}else R($[W],ce($[W]))}c=a.slice(-1)[0],!l&&c!=="-"&&(w(c,f.arrays)?r=Ae(r,c,o):w(c,f.nargs)!==!1?r=we(r,c,o):(y=o[r+1],y!==void 0&&(!/^(-|--)[^-]/.test(y)||y.match(J))&&!w(c,f.bools)&&!w(c,f.counts)||/^(true|false)$/.test(y)?(R(c,y),r++):R(c,ce(c))))}else if(a.match(/^-[0-9]$/)&&a.match(J)&&w(a.slice(1),f.bools))c=a.slice(1),R(c,ce(c));else if(a==="--"){ve=o.slice(r+1);break}else if(h["halt-at-non-option"]){ve=o.slice(r);break}else dt(a)}en(T,!0),en(T,!1),Ao(T),Oo(),tn(T,f.aliases,g,!0),So(T),h["set-placeholder-key"]&&xo(T),Object.keys(f.counts).forEach(function(r){pe(T,r.split("."))||R(r,0)}),_&&ve.length&&(T[F]=[]),ve.forEach(function(r){T[F].push(r)}),h["camel-case-expansion"]&&h["strip-dashed"]&&Object.keys(T).filter(r=>r!=="--"&&r.includes("-")).forEach(r=>{delete T[r]}),h["strip-aliased"]&&[].concat(...Object.keys(u).map(r=>u[r])).forEach(r=>{h["camel-case-expansion"]&&r.includes("-")&&delete T[r.split(".").map(a=>le(a)).join(".")],delete T[r]});function dt(r){const a=Oe("_",r);(typeof a=="string"||typeof a=="number")&&T._.push(a)}function we(r,a,p,l){let c,$=w(a,f.nargs);if($=typeof $!="number"||isNaN($)?1:$,$===0)return te(l)||(Y=Error(ie("Argument unexpected for: %s",a))),R(a,ce(a)),r;let m=te(l)?0:1;if(h["nargs-eats-options"])p.length-(r+1)+m<$&&(Y=Error(ie("Not enough arguments following: %s",a))),m=$;else{for(c=r+1;c<p.length&&(!p[c].match(/^-[^0-9]/)||p[c].match(J)||Se(p[c]));c++)m++;m<$&&(Y=Error(ie("Not enough arguments following: %s",a)))}let y=Math.min(m,$);for(!te(l)&&y>0&&(R(a,l),y--),c=r+1;c<y+r+1;c++)R(a,p[c]);return r+y}function Ae(r,a,p,l){let c=[],$=l||p[r+1];const m=w(a,f.nargs);if(w(a,f.bools)&&!/^(true|false)$/.test($))c.push(!0);else if(te($)||te(l)&&/^-/.test($)&&!J.test($)&&!Se($)){if(g[a]!==void 0){const y=g[a];c=Array.isArray(y)?y:[y]}}else{te(l)||c.push(mt(a,l,!0));for(let y=r+1;y<p.length&&!(!h["greedy-arrays"]&&c.length>0||m&&typeof m=="number"&&c.length>=m||($=p[y],/^-/.test($)&&!J.test($)&&!Se($)));y++)r=y,c.push(mt(a,$,i))}return typeof m=="number"&&(m&&c.length<m||isNaN(m)&&c.length===0)&&(Y=Error(ie("Not enough arguments following: %s",a))),R(a,c),r}function R(r,a,p=i){if(/-/.test(r)&&h["camel-case-expansion"]){const $=r.split(".").map(function(m){return le(m)}).join(".");Jt(r,$)}const l=mt(r,a,p),c=r.split(".");de(T,c,l),f.aliases[r]&&f.aliases[r].forEach(function($){const m=$.split(".");de(T,m,l)}),c.length>1&&h["dot-notation"]&&(f.aliases[c[0]]||[]).forEach(function($){let m=$.split(".");const y=[].concat(c);y.shift(),m=m.concat(y),(f.aliases[r]||[]).includes(m.join("."))||de(T,m,l)}),w(r,f.normalize)&&!w(r,f.arrays)&&[r].concat(f.aliases[r]||[]).forEach(function(m){Object.defineProperty(Xt,m,{enumerable:!0,get(){return a},set(y){a=typeof y=="string"?ee.normalize(y):y}})})}function Jt(r,a){f.aliases[r]&&f.aliases[r].length||(f.aliases[r]=[a],X[a]=!0),f.aliases[a]&&f.aliases[a].length||Jt(a,r)}function mt(r,a,p){p&&(a=pn(a)),(w(r,f.bools)||w(r,f.counts))&&typeof a=="string"&&(a=a==="true");let l=Array.isArray(a)?a.map(function(c){return Oe(r,c)}):Oe(r,a);return w(r,f.counts)&&(te(l)||typeof l=="boolean")&&(l=Ce()),w(r,f.normalize)&&w(r,f.arrays)&&(Array.isArray(a)?l=a.map(c=>ee.normalize(c)):l=ee.normalize(a)),l}function Oe(r,a){return!h["parse-positional-numbers"]&&r==="_"||!w(r,f.strings)&&!w(r,f.bools)&&!Array.isArray(a)&&(vt(a)&&h["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${a}`)))||!te(a)&&w(r,f.numbers))&&(a=Number(a)),a}function Ao(r){const a=Object.create(null);tn(a,f.aliases,g),Object.keys(f.configs).forEach(function(p){const l=r[p]||a[p];if(l)try{let c=null;const $=ee.resolve(ee.cwd(),l),m=f.configs[p];if(typeof m=="function"){try{c=m($)}catch(y){c=y}if(c instanceof Error){Y=c;return}}else c=ee.require($);gt(c)}catch(c){c.name==="PermissionDenied"?Y=c:r[p]&&(Y=Error(ie("Invalid JSON config file: %s",l)))}})}function gt(r,a){Object.keys(r).forEach(function(p){const l=r[p],c=a?a+"."+p:p;typeof l=="object"&&l!==null&&!Array.isArray(l)&&h["dot-notation"]?gt(l,c):(!pe(T,c.split("."))||w(c,f.arrays)&&h["combine-arrays"])&&R(c,l)})}function Oo(){typeof v<"u"&&v.forEach(function(r){gt(r)})}function en(r,a){if(typeof A>"u")return;const p=typeof A=="string"?A:"",l=ee.env();Object.keys(l).forEach(function(c){if(p===""||c.lastIndexOf(p,0)===0){const $=c.split("__").map(function(m,y){return y===0&&(m=m.substring(p.length)),le(m)});(a&&f.configs[$.join(".")]||!a)&&!pe(r,$)&&R($.join("."),l[c])}})}function So(r){let a;const p=new Set;Object.keys(r).forEach(function(l){if(!p.has(l)&&(a=w(l,f.coercions),typeof a=="function"))try{const c=Oe(l,a(r[l]));[].concat(f.aliases[l]||[],l).forEach($=>{p.add($),r[$]=c})}catch(c){Y=c}})}function xo(r){return f.keys.forEach(a=>{~a.indexOf(".")||typeof r[a]>"u"&&(r[a]=void 0)}),r}function tn(r,a,p,l=!1){Object.keys(p).forEach(function(c){pe(r,c.split("."))||(de(r,c.split("."),p[c]),l&&(Zt[c]=!0),(a[c]||[]).forEach(function($){pe(r,$.split("."))||de(r,$.split("."),p[c])}))})}function pe(r,a){let p=r;h["dot-notation"]||(a=[a.join(".")]),a.slice(0,-1).forEach(function(c){p=p[c]||{}});const l=a[a.length-1];return typeof p!="object"?!1:l in p}function de(r,a,p){let l=r;h["dot-notation"]||(a=[a.join(".")]),a.slice(0,-1).forEach(function(P){P=wt(P),typeof l=="object"&&l[P]===void 0&&(l[P]={}),typeof l[P]!="object"||Array.isArray(l[P])?(Array.isArray(l[P])?l[P].push({}):l[P]=[l[P],{}],l=l[P][l[P].length-1]):l=l[P]});const c=wt(a[a.length-1]),$=w(a.join("."),f.arrays),m=Array.isArray(p);let y=h["duplicate-arguments-array"];!y&&w(c,f.nargs)&&(y=!0,(!te(l[c])&&f.nargs[c]===1||Array.isArray(l[c])&&l[c].length===f.nargs[c])&&(l[c]=void 0)),p===Ce()?l[c]=Ce(l[c]):Array.isArray(l[c])?y&&$&&m?l[c]=h["flatten-duplicate-arrays"]?l[c].concat(p):(Array.isArray(l[c][0])?l[c]:[l[c]]).concat([p]):!y&&!!$==!!m?l[c]=p:l[c]=l[c].concat([p]):l[c]===void 0&&$?l[c]=m?p:[p]:y&&!(l[c]===void 0||w(c,f.counts)||w(c,f.bools))?l[c]=[l[c],p]:l[c]=p}function Co(...r){r.forEach(function(a){Object.keys(a||{}).forEach(function(p){f.aliases[p]||(f.aliases[p]=[].concat(u[p]||[]),f.aliases[p].concat(p).forEach(function(l){if(/-/.test(l)&&h["camel-case-expansion"]){const c=le(l);c!==p&&f.aliases[p].indexOf(c)===-1&&(f.aliases[p].push(c),X[c]=!0)}}),f.aliases[p].concat(p).forEach(function(l){if(l.length>1&&/[A-Z]/.test(l)&&h["camel-case-expansion"]){const c=Et(l,"-");c!==p&&f.aliases[p].indexOf(c)===-1&&(f.aliases[p].push(c),X[c]=!0)}}),f.aliases[p].forEach(function(l){f.aliases[l]=[p].concat(f.aliases[p].filter(function(c){return l!==c}))}))})})}function w(r,a){const p=[].concat(f.aliases[r]||[],r),l=Object.keys(a),c=p.find($=>l.includes($));return c?a[c]:!1}function nn(r){const a=Object.keys(f);return[].concat(a.map(l=>f[l])).some(function(l){return Array.isArray(l)?l.includes(r):l[r]})}function _o(r,...a){return[].concat(...a).some(function(l){const c=r.match(l);return c&&nn(c[1])})}function No(r){if(r.match(J)||!r.match(/^-[^-]+/))return!1;let a=!0,p;const l=r.slice(1).split("");for(let c=0;c<l.length;c++){if(p=r.slice(c+2),!nn(l[c])){a=!1;break}if(l[c+1]&&l[c+1]==="="||p==="-"||/[A-Za-z]/.test(l[c])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(p)||l[c+1]&&l[c+1].match(/\W/))break}return a}function Se(r){return h["unknown-options-as-args"]&&Ro(r)}function Ro(r){return r=r.replace(/^-{3,}/,"--"),r.match(J)||No(r)?!1:!_o(r,/^-+([^=]+?)=[\s\S]*$/,pt,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function ce(r){return!w(r,f.bools)&&!w(r,f.counts)&&`${r}`in g?g[r]:Lo(jo(r))}function Lo(r){return{[K.BOOLEAN]:!0,[K.STRING]:"",[K.NUMBER]:void 0,[K.ARRAY]:[]}[r]}function jo(r){let a=K.BOOLEAN;return w(r,f.strings)?a=K.STRING:w(r,f.numbers)?a=K.NUMBER:w(r,f.bools)?a=K.BOOLEAN:w(r,f.arrays)&&(a=K.ARRAY),a}function te(r){return r===void 0}function Fo(){Object.keys(f.counts).find(r=>w(r,f.arrays)?(Y=Error(ie("Invalid configuration: %s, opts.count excludes opts.array.",r)),!0):w(r,f.nargs)?(Y=Error(ie("Invalid configuration: %s, opts.count excludes opts.narg.",r)),!0):!1)}return{aliases:Object.assign({},f.aliases),argv:Object.assign(Xt,T),configuration:h,defaulted:Object.assign({},Zt),error:Y,newAliases:Object.assign({},X)}}}function hn(e){const t=[],n=Object.create(null);let s=!0;for(Object.keys(e).forEach(function(o){t.push([].concat(e[o],o))});s;){s=!1;for(let o=0;o<t.length;o++)for(let i=o+1;i<t.length;i++)if(t[o].filter(function(h){return t[i].indexOf(h)!==-1}).length){t[o]=t[o].concat(t[i]),t.splice(i,1),s=!0;break}}return t.forEach(function(o){o=o.filter(function(u,h,g){return g.indexOf(u)===h});const i=o.pop();i!==void 0&&typeof i=="string"&&(n[i]=o)}),n}function Ce(e){return e!==void 0?e+1:1}function wt(e){return e==="__proto__"?"___proto___":e}function pn(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */var _e,Ne,Re;const At=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,Ot=(Ne=(_e=process==null?void 0:process.versions)===null||_e===void 0?void 0:_e.node)!==null&&Ne!==void 0?Ne:(Re=process==null?void 0:process.version)===null||Re===void 0?void 0:Re.slice(1);if(Ot&&Number(Ot.match(/^([^.]+)/)[1])<At)throw Error(`yargs parser supports a minimum Node.js version of ${At}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);const dn=process?process.env:{},St=new fn({cwd:process.cwd,env:()=>dn,format:se.format,normalize:B.normalize,resolve:B.resolve,require:e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse(oe.readFileSync(e,"utf8"));throw Error("only .json config files are supported in ESM")}}),ue=function(t,n){return St.parse(t.slice(),n).argv};ue.detailed=function(e,t){return St.parse(e.slice(),t)},ue.camelCase=le,ue.decamelize=Et,ue.looksLikeNumber=vt;const mn={right:vn,center:wn},gn=0,ge=1,$n=2,$e=3;class bn{constructor(t){var n;this.width=t.width,this.wrap=(n=t.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...t){const n=this.div(...t);n.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);const n=t.map(s=>typeof s=="string"?this.colFromString(s):s);return this.rows.push(n),n}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){const n=t.split(`
`).map(o=>o.split("	"));let s=0;return n.forEach(o=>{o.length>1&&M.stringWidth(o[0])>s&&(s=Math.min(Math.floor(this.width*.5),M.stringWidth(o[0])))}),n.forEach(o=>{this.div(...o.map((i,u)=>({text:i.trim(),padding:this.measurePadding(i),width:u===0&&o.length>1?s:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){const n=M.stripAnsi(t);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){const t=[];return this.rows.forEach(n=>{this.rowToString(n,t)}),t.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(t,n){return this.rasterize(t).forEach((s,o)=>{let i="";s.forEach((u,h)=>{const{width:g}=t[h],v=this.negatePadding(t[h]);let A=u;if(v>M.stringWidth(u)&&(A+=" ".repeat(v-M.stringWidth(u))),t[h].align&&t[h].align!=="left"&&this.wrap){const F=mn[t[h].align];A=F(A,v),M.stringWidth(A)<v&&(A+=" ".repeat((g||0)-M.stringWidth(A)-1))}const _=t[h].padding||[0,0,0,0];_[$e]&&(i+=" ".repeat(_[$e])),i+=xt(t[h],A,"| "),i+=A,i+=xt(t[h],A," |"),_[ge]&&(i+=" ".repeat(_[ge])),o===0&&n.length>0&&(i=this.renderInline(i,n[n.length-1]))}),n.push({text:i.replace(/ +$/,""),span:t.span})}),n}renderInline(t,n){const s=t.match(/^ */),o=s?s[0].length:0,i=n.text,u=M.stringWidth(i.trimRight());return n.span?this.wrap?o<u?t:(n.hidden=!0,i.trimRight()+" ".repeat(o-u)+t.trimLeft()):(n.hidden=!0,i+t):t}rasterize(t){const n=[],s=this.columnWidths(t);let o;return t.forEach((i,u)=>{i.width=s[u],this.wrap?o=M.wrap(i.text,this.negatePadding(i),{hard:!0}).split(`
`):o=i.text.split(`
`),i.border&&(o.unshift("."+"-".repeat(this.negatePadding(i)+2)+"."),o.push("'"+"-".repeat(this.negatePadding(i)+2)+"'")),i.padding&&(o.unshift(...new Array(i.padding[gn]||0).fill("")),o.push(...new Array(i.padding[$n]||0).fill(""))),o.forEach((h,g)=>{n[g]||n.push([]);const v=n[g];for(let A=0;A<u;A++)v[A]===void 0&&v.push("");v.push(h)})}),n}negatePadding(t){let n=t.width||0;return t.padding&&(n-=(t.padding[$e]||0)+(t.padding[ge]||0)),t.border&&(n-=4),n}columnWidths(t){if(!this.wrap)return t.map(u=>u.width||M.stringWidth(u.text));let n=t.length,s=this.width;const o=t.map(u=>{if(u.width)return n--,s-=u.width,u.width}),i=n?Math.floor(s/n):0;return o.map((u,h)=>u===void 0?Math.max(i,yn(t[h])):u)}}function xt(e,t,n){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?n:"  ":""}function yn(e){const t=e.padding||[],n=1+(t[$e]||0)+(t[ge]||0);return e.border?n+4:n}function En(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function vn(e,t){e=e.trim();const n=M.stringWidth(e);return n<t?" ".repeat(t-n)+e:e}function wn(e,t){e=e.trim();const n=M.stringWidth(e);return n>=t?e:" ".repeat(t-n>>1)+e}let M;function An(e,t){return M=t,new bn({width:e?.width||En(),wrap:e?.wrap})}const Ct=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function _t(e){return e.replace(Ct,"")}function On(e,t){const[n,s]=e.match(Ct)||["",""];e=_t(e);let o="";for(let i=0;i<e.length;i++)i!==0&&i%t===0&&(o+=`
`),o+=e.charAt(i);return n&&s&&(o=`${n}${o}${s}`),o}function Sn(e){return An(e,{stringWidth:t=>[...t].length,stripAnsi:_t,wrap:On})}function xn(e,t){let n=B.resolve(".",e),s;for(oe.statSync(n).isDirectory()||(n=B.dirname(n));;){if(s=t(n,oe.readdirSync(n)),s)return B.resolve(n,s);if(n=B.dirname(s=n),s===n)break}}const Cn={fs:{readFileSync:oe.readFileSync,writeFile:oe.writeFile},format:se.format,resolve:B.resolve,exists:e=>{try{return oe.statSync(e).isFile()}catch{return!1}}};let Q;class _n{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);const n=t.shift();let s=function(){};return typeof t[t.length-1]=="function"&&(s=t.pop()),s=s||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s(),Q.format.apply(Q.format,[this.cache[this.locale][n]||n].concat(t))}__n(){const t=Array.prototype.slice.call(arguments),n=t.shift(),s=t.shift(),o=t.shift();let i=function(){};typeof t[t.length-1]=="function"&&(i=t.pop()),this.cache[this.locale]||this._readLocaleFile();let u=o===1?n:s;this.cache[this.locale][n]&&(u=this.cache[this.locale][n][o===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:s},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:i})):i();const h=[u];return~u.indexOf("%d")&&h.push(o),Q.format.apply(Q.format,h.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.cache[this.locale][n]=t[n])}_taggedLiteral(t,...n){let s="";return t.forEach(function(o,i){const u=n[i+1];s+=o,typeof u<"u"&&(s+="%s")}),this.__.apply(this,[s].concat([].slice.call(n,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){const t=this,n=this.writeQueue[0],s=n.directory,o=n.locale,i=n.cb,u=this._resolveLocaleFile(s,o),h=JSON.stringify(this.cache[o],null,2);Q.fs.writeFile(u,h,"utf-8",function(g){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),i(g)})}_readLocaleFile(){let t={};const n=this._resolveLocaleFile(this.directory,this.locale);try{Q.fs.readFileSync&&(t=JSON.parse(Q.fs.readFileSync(n,"utf-8")))}catch(s){if(s instanceof SyntaxError&&(s.message="syntax error in "+n),s.code==="ENOENT")t={};else throw s}this.cache[this.locale]=t}_resolveLocaleFile(t,n){let s=Q.resolve(t,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(s)&&~n.lastIndexOf("_")){const o=Q.resolve(t,"./",n.split("_")[0]+".json");this._fileExistsSync(o)&&(s=o)}return s}_fileExistsSync(t){return Q.exists(t)}}function Nn(e,t){Q=t;const n=new _n(e);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}const Rn=e=>Nn(e,Cn),Ln="require is not supported by ESM",Nt="loading a directory of commands is not supported yet for ESM";let fe;try{fe=sn.fileURLToPath(typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:bt&&bt.src||new URL("vue-mess-detector.umd.js",document.baseURI).href)}catch{fe=process.cwd()}const jn=fe.substring(0,fe.lastIndexOf("node_modules"));$t.notStrictEqual,$t.strictEqual,se.inspect,jn||process.cwd(),B.basename,B.dirname,B.extname,B.relative,B.resolve,process.cwd,process.exit,process.nextTick,typeof process.stdout.columns<"u"&&process.stdout.columns,oe.readFileSync,Rn({directory:B.resolve(fe,"../../../locales"),updateFiles:!1});const U="\x1B[44m",S="\x1B[43m",H="\x1B[41m",Rt="\x1B[42m",b="\x1B[0m",O="\x1B[33m",x="\x1B[36m",d="\x1B[0m",re=Object.keys({"vue-caution":["elementSelectorsWithScoped","implicitParentChildCommunication"],"vue-essential":["globalStyle","simpleProp","singleNameComponent","vforNoKey","vifWithVfor"],"vue-recommended":["elementAttributeOrder","topLevelElementOrder"],"vue-strong":["componentFilenameCasing","componentFiles","directiveShorthands","fullWordComponentName","multiAttributeElements","propNameCasing","quotedAttributeValues","selfClosingComponents","simpleComputed","templateSimpleExpression"],rrd:["cyclomaticComplexity","deepIndentation","elseCondition","functionSize","htmlLink","ifWithoutCurlyBraces","magicNumbers","nestedTernary","parameterCount","plainScript","propsDrilling","scriptLength","shortVariableName","tooManyProps","vForWithIndexKey"]}),Le=[],je=100,Fn=(e,t)=>{if(!e)return;const n=e.content.split(`
`);n.length>je&&Le.push({filePath:t,message:`${n.length>je*2?H:S}(${n.length} lines)${b}`})},Tn=()=>{const e=[];return Le.length>0&&Le.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ Long <script> blocks${d}`,description:`ðŸ‘‰ ${O}Try to refactor out the logic into composable functions or other files and keep the script block's length under ${je} lines.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/script-length.html`,message:`${t.message} ðŸš¨`})}),e},Fe=[],Pn=(e,t)=>{!e||e.setup||Fe.push({filePath:t,message:`${S}Plain <script> block${b} found`})},Wn=()=>{const e=[];return Fe.length>0&&Fe.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ Plain <script> blocks${d}`,description:`ðŸ‘‰ ${O} Consider using <script setup> to leverage the new SFC <script> syntax.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/plain-script.html`,message:`${t.message} ðŸš¨`})}),e},In=/^(\(.*\)|\\?.)$/;function ne(e){const t=e.toString();return In.test(t)?t:`(?:${t})`}const Bn=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,Mn=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/;function E(e){const t=n=>E(`(?<${n}>${`${e}`.replace(Bn,"$1$2")})`);return{toString:()=>e.toString(),and:Object.assign((...n)=>E(`${e}${V(...n)}`),{referenceTo:n=>E(`${e}\\k<${n}>`)}),or:(...n)=>E(`(?:${e}|${V(...n)})`),after:(...n)=>E(`(?<=${V(...n)})${e}`),before:(...n)=>E(`${e}(?=${V(...n)})`),notAfter:(...n)=>E(`(?<!${V(...n)})${e}`),notBefore:(...n)=>E(`${e}(?!${V(...n)})`),times:Object.assign(n=>E(`${ne(e)}{${n}}`),{any:()=>E(`${ne(e)}*`),atLeast:n=>E(`${ne(e)}{${n},}`),atMost:n=>E(`${ne(e)}{0,${n}}`),between:(n,s)=>E(`${ne(e)}{${n},${s}}`)}),optionally:()=>E(`${ne(e)}?`),as:t,groupedAs:t,grouped:()=>E(`${e}`.replace(Mn,"($1$3)$2")),at:{lineStart:()=>E(`^${e}`),lineEnd:()=>E(`${e}$`)}}}const kn=/[.*+?^${}()|[\]\\/]/g;function he(e){return E(`[${e.replace(/[-\\^\]]/g,"\\$&")}]`)}function k(e){return E(`[^${e.replace(/[-\\^\]]/g,"\\$&")}]`)}function zn(...e){return E(`(?:${e.map(t=>V(t)).join("|")})`)}const be=E(".");E("\\b\\w+\\b");const G=E("\\w"),z=E("\\b"),Dn=E("\\d"),L=E("\\s"),Lt=Object.assign(E("[a-zA-Z]"),{lowercase:E("[a-z]"),uppercase:E("[A-Z]")}),jt=E("\\t"),Ft=E("\\n");E("\\r"),E("\\W+"),E("\\W"),E("\\B"),E("\\D"),E("\\S"),Object.assign(E("[^a-zA-Z]"),{lowercase:E("[^a-z]"),uppercase:E("[^A-Z]")}),E("[^\\t]"),E("[^\\n]"),E("[^\\r]");function Z(...e){return E(`${ne(V(...e))}?`)}function V(...e){return E(e.map(t=>typeof t=="string"?t.replace(kn,"\\$&"):t).join(""))}function C(...e){return E(`${ne(V(...e))}+`)}const q="i",j="g",N=(...e)=>{const t=e.length>1&&(Array.isArray(e[e.length-1])||e[e.length-1]instanceof Set)?e.pop():void 0;return new RegExp(V(...e).toString(),[...t||""].join(""))},Te=[],Un=(e,t)=>{if(!e)return;const n=N(z,"else",z,[j,q]),s=e.content.match(n);s?.length&&Te.push({filePath:t,message:`else clauses found ${H}(${s.length})${b}`})},Hn=()=>{const e=[];return Te.length>0&&Te.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ else conditions${d}`,description:`ðŸ‘‰ ${O}Try to rewrite the conditions in a way that the else clause is not necessary.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/else-condition.html`,message:`${t.message} ðŸš¨`})}),e},Pe=[],Gn=5,Vn=10,qn=(e,t)=>{if(!e)return;const n=N(z,"if",z,[j,q]),s=N(z,"else",z,[j,q]),o=N(z,"for",z,[j,q]),i=N(z,"while",z,[j,q]),u=N(z,"case",z,[j,q]),h=e.content.match(n),g=e.content.match(s),v=e.content.match(o),A=e.content.match(i),_=e.content.match(u),F=(h?.length||0)+(g?.length||0)+(v?.length||0)+(A?.length||0)+(_?.length||0);F>Gn&&Pe.push({filePath:t,message:`${F>Vn?H:S}(${F})${b}`})},Kn=()=>{const e=[];return Pe.length>0&&Pe.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ cyclomatic complexity${d}`,description:`ðŸ‘‰ ${O}Try to reduce complexity.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/cyclomatic-complexity.html`,message:`${t.message} ðŸš¨`})}),e},We=[],Qn=e=>{if(e.includes("pages"))return;const t=xe.basename(e);if(t==="App.vue")return;const n=N(Lt.uppercase);t.slice(1).match(n)?.length||We.push({filePath:e,message:`Component name is ${S}single word${b}`})},Yn=()=>{const e=[];return We.length>0&&We.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-essential ~ single name component${d}`,description:`ðŸ‘‰ ${O}Rename the component to use multi-word name.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-essential/single-name-component.html`,message:`${t.message} ðŸš¨`})}),e},Ie=[],Zn=(e,t)=>{e&&e.forEach(n=>{n.scoped||Ie.push({filePath:t,message:`${S}global style${b} used`})})},Xn=()=>{const e=[];return Ie.length>0&&Ie.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-essential ~ global style${d}`,description:`ðŸ‘‰ ${O}Use <style scoped>.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-essential/global-style.html`,message:`${t.message} ðŸš¨`})}),e},Be=[],Jn=(e,t)=>{if(!e)return;const n=N("defineProps([",[j,q]);e.content.match(n)?.length&&Be.push({filePath:t,message:`${S}Props type${b} not defined`})},es=()=>{const e=[];return Be.length>0&&Be.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-essential ~ simple prop${d}`,description:`ðŸ‘‰ ${O}Add at least type definition.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-essential/simple-prop.html`,message:`${t.message} ðŸš¨`})}),e},D=(e,t,n=0)=>{if(!t.includes(`
`))return e.split(`
`).findIndex((h,g)=>g>=n&&h.includes(t))+1;const s=e.split(`
`).slice(0,n).reduce((u,h)=>u+h.length,0),o=e.indexOf(t,s);return e.slice(0,o).split(`
`).length},Me=[],ts=(e,t)=>{if(!e)return;const n=N("<",C(k(">"))," v-if",C(k(">"))," v-for",C(k(">")),">",[j,q]),s=N("<",C(k(">"))," v-for",C(k(">"))," v-if",C(k(">")),">",[j,q]),o=e.content.match(n),i=e.content.match(s);if(o?.length||i?.length){const u=o?.length?o[0]:i?.length?i[0]:"",h=D(e.content,u);Me.push({filePath:t,message:`line #${h} ${S}v-if used with v-for${b}`})}},ns=()=>{const e=[];return Me.length>0&&Me.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-essential ~ v-if used with v-for${d}`,description:`ðŸ‘‰ ${O}Move out the v-if to a computed property.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-essential/vif-with-vfor.html`,message:`${t.message} ðŸš¨`})}),e},ke=[],ss=(e,t)=>{if(!e)return;const n=N("<",C(k(">"))," v-for",C(k(">")),">",[j,q]),s=e.content.match(n);s?.length&&(s.some(i=>i.includes(":key"))||ke.push({filePath:t,message:`v-for used ${S}without a key${b}`}))},os=()=>{const e=[];return ke.length>0&&ke.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-essential ~ v-for has no key${d}`,description:`ðŸ‘‰ ${O}Add a \`:key\` property to all v-for.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-essential/vfor-no-key.html`,message:`${t.message} ðŸš¨`})}),e},ze=[],rs=e=>{if(e.includes("pages")||e.includes("layouts"))return;const t=xe.basename(e),n=/^[A-Z][a-zA-Z0-9]+(?:(?<!^)(?=[A-Z]))*.vue$/,s=t.match(n),o=/^([a-z0-9]+-)+[a-z0-9]+\.vue$/,i=t.match(o);!s?.length&&!i?.length&&ze.push({filePath:e,message:`component name is ${S}not PascalCase, nor kebab-case.${b}`})},is=()=>{const e=[];return ze.length>0&&ze.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-strong ~ component name is not PascalCase and not kebab-case${d}`,description:`ðŸ‘‰ ${O}Rename the component to use PascalCase or kebab-case file name.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-strong/component-filename-casing.html`,message:`${t.message} ðŸš¨`})}),e},De=[],cs=/^[a-z]+([A-Z][a-z]*)*$/,as=(e,t)=>{if(!e)return;const n=/defineProps\({([^}]+)/g;let s;for(;(s=n.exec(e.content))!==null;)s[1].replace(/\s+/g,"").replace(/["']/g,"").split(",").map(i=>i.split(":")[0]).filter(i=>i.length).filter(i=>!cs.test(i)).length&&De.push({filePath:t,message:`prop names are ${S}not camelCased${b}`})},ls=()=>{const e=[];return De.length>0&&De.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-strong ~ prop names are not camelCased${d}`,description:`ðŸ‘‰ ${O}Rename the props to camelCase.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-strong/prop-name-casing.html`,message:`${t.message} ðŸš¨`})}),e},Ue=[],us=40,fs=(e,t)=>{if(!e)return;const n=/{{\s*([\s\S]*?)\s*}}/g;[...e.content.matchAll(n)].map(o=>o[1].trim()).forEach(o=>{if(o.length>us){const i=D(e.content,o),u=o.split(`
`).at(0)?.trim()||"";Ue.push({filePath:t,message:`line #${i} ${S}${u}${b}`})}})},hs=()=>{const e=[];return Ue.length>0&&Ue.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-strong ~ lengthy template expression${d}`,description:`ðŸ‘‰ ${O}Refactor the expression into a computed property.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-strong/template-simple-expression.html`,message:`${t.message} ðŸš¨`})}),e},He=[],ps=(e,t)=>{if(!e)return;const n=e.template,s=N("<",C(G),Z(C(he(` 	
\r`))),C(k("/>")),Z(C(he(` 	
\r`))),Z("/"),">",["g"]),o=n?.content.match(s);if(o===null)return;const i=N(":",C(G),Z(" "),"=",Z(" "),k(`'"`),["g"]);o?.forEach(u=>{if(!u.includes(":"))return;const h=u.match(i);if(h?.length){const g=D(e.source,u);He.push({filePath:t,message:`line #${g} ${S}${h}${b}`})}})},ds=()=>{const e=[];return He.length>0&&He.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-strong ~ attribute value is not quoted${d}`,description:`ðŸ‘‰ ${O}Use quotes for attribute values.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-strong/quoted-attribute-values.html`,message:`${t.message} ðŸš¨`})}),e},Ge=[],ms=(e,t)=>{if(!e)return;const n=e.template,s=N("<",C(Lt.uppercase,G),Z(Ft,jt),Z(C(k(">"))),"></",C(G),">",["g"]),o=n?.content?.match(s);o!==null&&o?.forEach(i=>{const u=D(e.source,i),h=i.split(`
`).at(-1)?.trim()||"";Ge.push({filePath:t,message:`line #${u} ${S}${h}${b}`})})},gs=()=>{const e=[];return Ge.length>0&&Ge.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-strong ~ component is not self closing${d}`,description:`ðŸ‘‰ ${O}Components with no content should be self-closing.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-strong/self-closing-components.html`,message:`${t.message} ðŸš¨`})}),e},Ve=[],Tt=[],$s=["v-slot","v-bind","v-on"],bs=(e,t)=>{if(!e)return;const n=e.template;$s.forEach(s=>{if(n?.content.includes(`${s}:`)){const o=D(e.source,s);Ve.push({filePath:t,message:`line #${o} ${S}${s}${b}`}),Tt.some(i=>i.filePath===t)||Tt.push({filePath:t})}})},ys=()=>{const e=[];return Ve.length>0&&Ve.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-strong ~ directive shorthands not used${d}`,description:`ðŸ‘‰ ${O}Use ":" for v-bind:, "@" for v-on: and "#" for v-slot.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-strong/directive-shorthands.html`,message:`${t.message} ðŸš¨`})}),e},qe=[],Es=3,vs=e=>{const t=N(C(k("/")).grouped(),V(".vue").at.lineEnd()),n=e.match(t);if(n){const s=n[0]?.split(".vue")[0],o=N(he("bcdfghjklmnpqrstvwxyzBCDFGHJKLMNPQRSTVWXYZ"),[j]),i=s.match(o);(!i||i.length<Es)&&qe.push({filePath:e,message:`${s} is not a ${S}full word.${b}`})}},ws=()=>{const e=[];return qe.length>0&&qe.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-strong ~ full-word component names${d}`,description:`ðŸ‘‰ ${O}Component names should prefer full words over abbreviations.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-strong/full-word-component-name.html`,message:`${t.message} ðŸš¨`})}),e},Ke=[],As=(e,t)=>{const n=e.toString(),s=n.indexOf("<script setup>"),o=n.indexOf("<template>"),i=n.indexOf("<style>"),u=[{name:"script",index:s},{name:"template",index:o},{name:"style",index:i}].filter(g=>g.index!==-1);u.every((g,v)=>v===0?!0:u[v-1].index<g.index)||Ke.push({filePath:t,message:`Top level elements are ${S}not following the correct order.${b}`})},Os=()=>{const e=[];return Ke.length>0&&Ke.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-recommended ~ top level element order${d}`,description:`ðŸ‘‰ ${O}Single-File Components should always order <script>, <template>, and <style> tags consistently.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-recommended/top-level-element-order.html`,message:`${t.message} ðŸš¨`})}),e},Qe=[],Pt=["is","v-for","v-if","v-else-if","v-else","v-show","v-cloak","v-pre","v-once","id","ref","key","v-model","v-on","v-html","v-text"],Ss=(e,t)=>{if(!e)return;const n=e.content.replace(/<\/?template>/g,""),s=/<(\w+)(\s[^>]+)?>/g,o=/(\w+(?:-\w+)*)(?:="[^"]*")?/g;let i;for(;(i=s.exec(n))!==null;){const u=i[1],h=i[2];if(h){const v=Array.from(h.matchAll(o),_=>_[1]).filter(_=>Pt.includes(_));let A=-1;for(const _ of v){const F=Pt.indexOf(_);if(F!==-1&&F<A){Qe.push({filePath:t,message:`tag has attributes out of order ${S}(${u})${b}`});break}A=F}}}},xs=()=>{const e=[];return Qe.length>0&&Qe.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-recommended ~ element attribute order${d}`,description:`ðŸ‘‰ ${O}The attributes of elements (including components) should be ordered consistently.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-recommended/element-attribute-order.html`,message:`${t.message} ðŸš¨`})}),e},Ye=[],Cs=5,_s=(e,t)=>{if(!e)return;const n=N("defineProps",Z("<"),Z("("),"{",C(be),"}",["g","s"]),s=e.content.match(n);if(s?.length){const o=s[0].split(",").length;o>Cs&&Ye.push({filePath:t,message:`props found ${H}(${o})${b}`})}},Ns=()=>{const e=[];return Ye.length>0&&Ye.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ too many props${d}`,description:`ðŸ‘‰ ${O}Try to refactor your code to use less properties.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/too-many-props.html`,message:`${t.message} ðŸš¨`})}),e},Ze=[],Wt=20,Xe=5,It=8;function Rs(e,t,n){t.split(`
`).length>Wt&&Ze.push({filePath:n,message:`function ${H}(${Ps(e)})${b} is too long`})}function Ls(e,t){let n="",s=t;for(;s<e.length&&/\s/.test(e[s]);)s++;if(e.slice(s,s+Xe)==="const")for(s+=Xe;s<e.length&&/\s/.test(e[s]);)s++;for(;s<e.length&&/[\w$]/.test(e[s]);)n+=e[s],s++;return n.trim()}function js(e,t){let n=t;for(;n<e.length&&e[n]!=="{";)n++;return n+1}function Fs(e,t){let n="",s=-1;for(;t<e.length&&e[t]!=="=";)/\w/.test(e[t])&&(n+=e[t]),t++;return t=e.indexOf("=>",t),t===-1?null:(s=t+2,{name:n,bodyStart:s})}function Ts(e,t){let n=1,s="",o=t;for(;o<e.length&&n>0;){const i=e[o];i==="{"&&n++,i==="}"&&n--,s+=i,o++}return{body:s,end:o}}function Ps(e){return e.replace(/^const\s*/,"")}const Ws=(e,t)=>{if(!e)return;const n=e.content,s=n.length;let o=0;for(;o<s;){let i="",u="",h=!1;if(n.slice(o,o+It)==="function"&&(o+=It,h=!0,i=Ls(n,o),o=js(n,o)),n.slice(o,o+Xe)==="const"){const g=Fs(n,o);g&&(h=!0,i=g.name,o=g.bodyStart)}if(h){const{body:g,end:v}=Ts(n,o);u=g,o=v,Rs(i,u,t)}h||o++}},Is=()=>{const e=[];return Ze.length>0&&Ze.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ function size${d}`,description:`ðŸ‘‰ ${O}Functions must be shorter than ${Wt} lines.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/function-size.html`,message:`${t.message} ðŸš¨`})}),e},Je=[],Bt=3,Mt=(e,t,n)=>{const s=t.split(",").map(o=>o.trim()).filter(o=>o.length>0);s.length>Bt&&Je.push({filePath:n,message:`function ${S}${e}${b} has ${S}${s.length}${b} parameters`})},Bs=(e,t)=>{if(!e)return;const n=/function\s+([\w$]+)\s*\(([^)]*)\)\s*\{|const\s+([\w$]+)\s*=\s*\(([^)]*)\)\s*=>\s*\{/g;let s;for(;(s=n.exec(e.content))!==null;)s[1]?Mt(s[1],s[2],t):s[3]&&Mt(s[3],s[4],t)},Ms=()=>{const e=[];return Je.length>0&&Je.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ parameter count${d}`,description:`ðŸ‘‰ ${O}Max number of function parameters should be ${Bt}.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/parameter-count.html`,message:`${t.message} ðŸš¨`})}),e},et=[],ks=(e,t)=>{if(!e)return;const n=N("defineProps(",L.times.any(),"[",L.times.any(),C(he(`'"`),C(G),he(`'"`),L.times.any(),Z(",",L.times.any())),"]",L.times.any(),")",[j]),s=N("<",C(G).grouped(),L,k(">").times.any(),":",C(G).grouped(),L.times.any(),"=",L.times.any(),'"props.',C(G).grouped(),'"',[j]);let o;const i=new Set;for(;(o=n.exec(e.content))!==null;)o[0].replace(/defineProps\(|[)[\]'"\s]/g,"").split(",").forEach(g=>i.add(g));let u;for(;(u=s.exec(e.content))!==null;){const h=u[1],g=u[2],v=u[3];i.has(v)&&g===v&&et.push({filePath:t,message:`Prop ${S}(${v})${b} is being drilled through ${S}${h}${b} component unmodified.`})}},zs=()=>{const e=[];return et.length>0&&et.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ props drilling${d}`,description:`ðŸ‘‰ ${O}Props should not be forwarded unmodified. Consider refactoring.${d}`,message:`${t.message} ðŸš¨`})}),e},tt=[],kt=4,Ds=(e,t)=>{if(!e)return;const n=/\b(?:const|var|let)\s+([a-zA-Z_$][\w$]*)/g;let s;for(;(s=n.exec(e.content))!==null;){const o=s[1];o.length<kt&&tt.push({filePath:t,message:`${H}(${o})${b}`})}},Us=()=>{const e=[];return tt.length>0&&tt.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ short variable names${d}`,description:`ðŸ‘‰ ${O}Variable names must have a minimum length of ${kt}.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/short-variable-name.html`,message:`${t.message} ðŸš¨`})}),e},zt=[],ye=[],Hs=5,Gs=(e,t)=>{if(!e)return;const n=/const\s+([a-zA-Z0-9_$]+)\s*=\s*computed\(\s*\(\)\s*=>\s*{([^{}]*(?:{[^{}]*}[^{}]*)*)}\s*\)/gs,s=e.content.match(n);s?.length&&s.forEach(o=>{if(o.split(`
`).length>Hs){const i=o.split(`
`)[0],u=D(e.content,i);zt.push({filePath:t,message:`line #${u} ${S}computed${b}`}),ye.push({filePath:t}),ye.some(h=>h.filePath===t)||ye.push({filePath:t})}})},Vs=()=>{const e=[];return ye.length>0&&zt.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-strong ~ complicated computed property${d}`,description:`ðŸ‘‰ ${O}Refactor the computed properties to smaller ones.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-strong/simple-computed.html`,message:`${t.message} ðŸš¨`})}),e},nt=[],qs=(e,t)=>{if(!e)return;const n=/app\.component\('([^']+)',\s*\{[^}]*\}\)/g;[...e.content.matchAll(n)].map(o=>o[1].trim()).forEach(o=>{const i=D(e.content.trim(),o),u=o.split(`
`).at(0)?.trim()||"";nt.push({filePath:t,message:`line #${i} ${S}(${u})${b}`})})},Ks=()=>{const e=[];return nt.length>0&&nt.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-strong ~ component files${d}`,description:`ðŸ‘‰ ${O}Whenever a build system is available to concatenate files, each component should be in its own file.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-strong/component-files.html`,message:`${t.message} ðŸš¨`})}),e},Ee=[],Qs=(e,t)=>{if(!e)return;const n=/defineProps\(([^)]+)\)/,s=/v-model\s*=\s*"([^"]+)"/,o=N(V("$parent").or("getCurrentInstance"),[j]),i=e.content.match(n),u=e.content.match(s);if(u){const g=u[1].split(".")[0];if((i?i[1]:"").includes(g)){const A=D(e.content.trim(),g);Ee.push({filePath:t,message:`line #${A} ${S}(${g})${b}`})}}const h=e.content.match(o);if(h){const g=D(e.content.trim(),h[0]);Ee.push({filePath:t,message:`line #${g} ${S}(${h[0]})${b}`})}},Ys=()=>{const e=[];return Ee.length>0&&Ee.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-caution ~ implicit parent-child communication${d}`,description:`ðŸ‘‰ ${O}Avoid implicit parent-child communication to maintain clear and predictable component behavior.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-caution/implicit-parent-child-communication.html`,message:`${t.message} ðŸš¨`})}),e},st=[],Dt=5,Zs=3,Xs=(e,t)=>{if(!e)return;const n=N(jt.times.atLeast(Dt).or(L.times.atLeast(Zs*Dt)),[j,q]);e.content.match(n)?.forEach(o=>{const i=D(e.content,o);st.push({filePath:t,message:`line #${i} ${S}indentation: ${o.length}${b}`})})},Js=()=>{const e=[];return st.length>0&&st.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ deep indentation${d}`,description:`ðŸ‘‰ ${O}Try to refactor your component to child components, to avoid deep indentations.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/deep-indentation.html`,message:`${t.message} ðŸš¨`})}),e},ot=[],eo=(e,t)=>{if(!e)return;const n=N("<a",z,[j,q]),s=e.content.match(n);s?.length&&ot.push({filePath:t,message:`${s?.length} ${S}html link found${b}`})},to=()=>{const e=[];return ot.length>0&&ot.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ html link${d}`,description:`ðŸ‘‰ ${O}Use router-link or NuxtLink.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/html-link.html`,message:`${t.message} ðŸš¨`})}),e},rt=[],no=(e,t)=>{if(!e)return;const s=e.content.split(`
`);s.forEach((o,i)=>{const u=o.trim();if(u.startsWith("if (")&&!u.includes("{")){const h=s[i+1]?.trim();(!h||!h.startsWith("{")&&!u.endsWith("{"))&&rt.push({filePath:t,message:`line #${i} if statement without curly braces: ${H}${u}${b}`})}})},so=()=>{const e=[];return rt.length>0&&rt.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ if without curly braces${d}`,description:`ðŸ‘‰ ${O}All if statements must be enclosed in curly braces for better readability and maintainability.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/if-without-curly-braces.html`,message:`${t.message} ðŸš¨`})}),e},it=[],oo=(e,t)=>{if(!e)return;const n=N(C(Dn).as("magicNumber"),zn(")",Ft),[j]);let s,o=0;for(;(s=n.exec(e.content))!==null;){const i=s.groups?.magicNumber||"",u=D(e.content,i,o);it.push({filePath:t,message:`line #${u} ${S}magic number: ${i}${b}`}),o=u}},ro=()=>{const e=[];return it.length&&it.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ magic numbers${d}`,description:`ðŸ‘‰ ${O}Extract magic numbers to a constant.${d} See: https://vue-mess-detector.webmania.cc/rules/rrd/magic-numbers.html`,message:`magic numbers found (${t.message}) ðŸš¨`})}),e},ct=[],io=(e,t)=>{if(!e)return;const n=/<(\w+)([^>]*)>/g;let s;for(;(s=n.exec(e.content))!==null;){const o=s[1],i=s[2];i.split(/\s+/).filter(h=>h.trim()!=="").length>1&&i.split(`
`).length===1&&ct.push({filePath:t,message:`Element ${S}<${o}>${b} should have its attributes on separate lines`})}},co=()=>{const e=[];return ct.length>0&&ct.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-strong ~ multi-attribute elements${d}`,description:`ðŸ‘‰ ${O}Elements with multiple attributes should span multiple lines, with one attribute per line.${d}`,message:`${t.message} ðŸš¨`})}),e},ao=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","search","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],at=[],lo=(e,t)=>{if(!e)return;const n=/([a-z]+)\s*\{[^}]*\}/gi;e.forEach(s=>{let o;for(;(o=n.exec(s.content))!==null;){const i=o[1];ao.includes(i)&&at.push({filePath:t,message:`${S}(${i})${b}`})}})},uo=()=>{const e=[];return at.length>0&&at.forEach(t=>{e.push({file:t.filePath,rule:`${x}vue-caution ~ element selectors with scoped${d}`,description:`ðŸ‘‰ ${O}Prefer class selectors over element selectors in scoped styles, because large numbers of element selectors are slow.${d} See: https://vue-mess-detector.webmania.cc/rules/vue-caution/element-selectors-with-scoped.html`,message:`${t.message} ðŸš¨`})}),e},lt=[],fo=(e,t)=>{if(!e)return;const n=N(C(be),L,"?",L,C(be),L,":",L,C(be));e.content.match(n)?.forEach(o=>{if(o.split("?").length-1>1){const i=D(e.content,o);lt.push({filePath:t,message:`line #${i} has ${S}nested ternary${b}`})}})},ho=()=>{const e=[];return lt.length>0&&lt.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ nested Ternary${d}`,description:`ðŸ‘‰ ${O}/* TODO tip to fix this issue */.${d} See: https:///* TODO doc link */`,message:`${t.message} ðŸš¨`})}),e},ut=[],po=(e,t)=>{if(!e)return;const n=N('v-for="(',L.times.any(),C(G).grouped(),L.times.any(),",",L.times.any(),C(G).grouped(),L.times.any(),")",C(L),"in",C(L),C(G).grouped(),[j]),s=N(':key="',L.times.any(),C(G).grouped(),L.times.any(),'"',[j]),o=[...e.content.matchAll(n)],i=[...e.content.matchAll(s)];o.forEach(u=>{const[h,g,v,A]=u;i.forEach(_=>{const F=_[1];if(F===v){const X=D(e.content.trim(),F);ut.push({filePath:t,message:`line #${X} ${S}index is being used as :key in v-for${b}`})}})})},mo=()=>{const e=[];return ut.length>0&&ut.forEach(t=>{e.push({file:t.filePath,rule:`${x}rrd ~ VFor With Index Key${d}`,description:`ðŸ‘‰ ${O}Avoid using index as key in v-for loops.${d} See: https://`,message:`${t.message} ðŸš¨`})}),e},go=(e,t,n)=>{const s={},o=({file:g,rule:v,title:A,description:_,message:F})=>{const X=e==="rule"?v:g;s[X]||(s[X]=[]),s[X].push({file:g,rule:v,title:A,description:_,message:F})},i=g=>{g().forEach(A=>{o(A)})};i(Yn),i(es),i(os),i(ns),i(Xn),i(is),i(Ks),i(ys),i(ws),i(co),i(ls),i(ds),i(gs),i(Vs),i(hs),i(Os),i(xs),i(Ys),i(uo),i(Kn),i(Js),i(Hn),i(Is),i(to),i(so),i(ro),i(ho),i(Ms),i(Wn),i(zs),i(Tn),i(Us),i(Ns),i(mo);const u=[];return Object.keys(s).sort((g,v)=>{const A=s[g].length,_=s[v].length;return t==="desc"?_-A:A-_}).forEach(g=>{console.log(`
 - ${g}`),s[g].forEach(v=>{const A=v.message.includes(H);if(u.some(_=>_.file===v.file)){const _=u.find(F=>F.file===v.file);_&&(A?_.errors++:_.warnings++)}else u.push({file:v.file,errors:A?1:0,warnings:A?0:1});n==="error"&&!A||(console.log(e==="file"?`   Rule: ${v.rule}`:`   File: ${v.file}`),console.log(`   Description: ${v.description}`),console.log(`   Message: ${v.message||"ðŸš¨"}
`))})}),u},$o=(e,t,n)=>{const s=e.scriptSetup||e.script;console.log(`Analyzing ${t}...`);const o=t.endsWith(".vue");n.includes("vue-essential")&&(Jn(s,t),o&&(Qn(t),Zn(e.styles,t),ss(e.template,t),ts(e.template,t))),n.includes("vue-strong")&&(Gs(s,t),o&&(qs(s,t),as(s,t),rs(t),ms(e,t),fs(e.template,t),ps(e,t),bs(e,t),vs(t),io(e.template,t))),n.includes("vue-recommended")&&o&&(As(e.source,t),Ss(e.template,t)),n.includes("vue-caution")&&o&&(Qs(s,t),lo(e.styles,t)),n.includes("rrd")&&(qn(s,t),Xs(s,t),Un(s,t),Ws(s,t),no(s,t),oo(s,t),fo(s,t),Bs(s,t),ks(s,t),Fn(s,t),Ds(s,t),_s(s,t),o&&(eo(e.template,t),Pn(e.script,t),po(e.template,t)))},bo=1.5,Ut=75,Ht=85,Gt=95,yo={groupBy:["rule","file"],orderBy:["asc","desc"]};function ft(e,t){const n=yo[t];return n.includes(e)||(console.error(`
Invalid option "${e}" provided for flag "${t}". Valid options are: ${n.join(", ")}.
`),process.exit(1)),e}function Eo(e,t,n){const{errors:s,warnings:o}=e.reduce((u,{errors:h,warnings:g})=>({errors:u.errors+h,warnings:u.warnings+g}),{errors:0,warnings:0});console.log(`Found ${H}${Intl.NumberFormat("en-US").format(s)} errors${b}, and ${S}${Intl.NumberFormat("en-US").format(o)} warnings${b}, ${U}${Intl.NumberFormat("en-US").format(t)} lines${b} of code in ${U}${Intl.NumberFormat("en-US").format(n)} files${b}`);const i=Math.ceil((1-(s*bo+o)/t)*100);return i<Ut&&console.log(`${H}Code health is LOW: ${i}%${b}`),i>=Ut&&i<Ht&&console.log(`${S}Code health is MEDIUM ${i}%${b}`),i>=Ht&&i<Gt&&console.log(`${U}Code health is OK: ${i}%${b}`),i>=Gt&&console.log(`${Rt}Code health is GOOD: ${i}%${b}`),{errors:s,warnings:o}}let ht=0,Vt=0,qt=[];const vo=["cache","coverage","dist",".git","node_modules",".nuxt"],Kt=async e=>{if(!(await me.stat(e)).isDirectory()){await Qt(e,e);return}const n=await me.readdir(e);for(const s of n){const o=xe.join(e,s);(await me.stat(o)).isDirectory()&&(vo.some(u=>o.includes(u))||await Kt(o)),await Qt(o,o)}},Qt=async(e,t)=>{if(e.endsWith(".vue")||e.endsWith(".ts")||e.endsWith(".js")){ht++;const n=await me.readFile(t,"utf-8");Vt+=n.split(/\r\n|\r|\n/).length;const{descriptor:s}=on.parse(n);(e.endsWith(".ts")||e.endsWith(".js"))&&(s.script={content:n}),$o(s,t,qt)}},wo=async({dir:e,level:t,apply:n=[],groupBy:s,orderBy:o})=>{const i=re.filter(v=>!n.includes(v));console.log(`

${U}Analyzing Vue, TS and JS files in ${e}${b}`),console.log(`Applying ${U}${n.length}${b} rulesets ${U}${n}${b}
    Ignoring ${U}${i.length}${b} rulesets ${U}${i}${b}
    Output level ${U}${t}${b}
    Grouping by ${U}${s}${b}
    Ordering ${U}${o}${b}`),qt=n,await Kt(e),console.log(`Found ${U}${ht}${b} files`);const u=go(s,o,t),{errors:h,warnings:g}=Eo(u,Vt,ht);!h&&!g&&console.log(`${Rt}No code smells detected!${b}`)};I(an(process.argv)).command("analyze [path]","Analyze Vue files for code smells and best practices",e=>e.positional("path",{describe:"path to the Vue files",default:"./"}).option("apply",{alias:"a",describe:"Comma-separated list of rulesets to apply.",choices:re,coerce:Yt("apply"),group:"Filter Rulesets:"}).option("group",{alias:"g",describe:"Group results at the output",choices:["rule","file"],coerce:t=>ft(t,"groupBy"),default:"rule",group:"Group Results:"}).option("level",{alias:"l",describe:"Output level",choices:["all","error"],coerce:t=>ft(t,"outputLevel"),default:"all",group:"Output:"}).option("ignore",{alias:"i",describe:"Comma-separated list of rulesets to ignore.",choices:re,coerce:Yt("ignore"),group:"Filter Rulesets:"}).option("order",{alias:"o",describe:"Order results at the output",choices:["asc","desc"],coerce:t=>ft(t,"orderBy"),default:"asc",group:"Order Results:"}).check(t=>(t.ignore&&t.apply&&(console.error(`
${H}Cannot use both --ignore and --apply options together.${b}.

`),process.exit(1)),!0)),e=>{let t=[...re];e.apply&&(t=e.apply),e.ignore&&(t=re.filter(n=>!e.ignore.includes(n))),wo({dir:e.path,level:e.level,apply:t,groupBy:e.group,orderBy:e.order})}).help().argv;function Yt(e){return t=>{const n=t.split(","),s=n.filter(o=>!re.includes(o));return s.length>0&&(console.error(`
${H}Invalid ${e} values: ${s.join(", ")}${b}. 
${O}Allowed values are: ${[...re].join(", ")}${d}

`),process.exit(1)),n}}});
